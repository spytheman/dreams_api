import{s as Ge,n as Je,r as We,e as Fe,o as Ke}from"../chunks/scheduler.e108d1fd.js";import{S as Qe,i as Xe,g as s,m as F,s as w,h as r,j as g,n as K,f as h,c as I,x as ve,k as l,a as Pe,y as e,z as Se,A as he,o as oe,B as Me}from"../chunks/index.3aeff6f3.js";import{e as Ee}from"../chunks/each.e59479a4.js";import{b as Ze}from"../chunks/stores.65371aae.js";function Ue(o,t,d){const v=o.slice();return v[15]=t[d],v[17]=d,v}function Ye(o,t,d){const v=o.slice();return v[18]=t[d],v}function Be(o){let t,d=o[18].srv_name+"",v,f,p;return{c(){t=s("option"),v=F(d),this.h()},l(m){t=r(m,"OPTION",{});var c=g(t);v=K(c,d),c.forEach(h),this.h()},h(){t.__value=f=o[18].id,Se(t,t.__value),t.selected=p=o[18].id==localStorage.getItem("selected_srv_id")},m(m,c){Pe(m,t,c),e(t,v)},p(m,c){c&2&&d!==(d=m[18].srv_name+"")&&oe(v,d),c&2&&f!==(f=m[18].id)&&(t.__value=f,Se(t,t.__value)),c&2&&p!==(p=m[18].id==localStorage.getItem("selected_srv_id"))&&(t.selected=p)},d(m){m&&h(t)}}}function ze(o){let t,d,v=o[17]+1+"",f,p,m,c=o[15].api_name+"",U,O,L,j=o[15].api_content+"",Y,x,R,J=o[15].is_inuse+"",k,C,n,u,T=o[15].test_count+"",N,ee,S,q,P,B,b,E,M,z,X,te,W;return{c(){t=s("tr"),d=s("td"),f=F(v),p=w(),m=s("td"),U=F(c),O=w(),L=s("td"),Y=F(j),x=w(),R=s("td"),k=F(J),n=w(),u=s("td"),N=F(T),ee=w(),S=s("td"),q=s("input"),B=w(),b=s("input"),X=w(),this.h()},l(y){t=r(y,"TR",{class:!0});var _=g(t);d=r(_,"TD",{class:!0});var Q=g(d);f=K(Q,v),Q.forEach(h),p=I(_),m=r(_,"TD",{class:!0});var fe=g(m);U=K(fe,c),fe.forEach(h),O=I(_),L=r(_,"TD",{class:!0});var ne=g(L);Y=K(ne,j),ne.forEach(h),x=I(_),R=r(_,"TD",{class:!0});var G=g(R);k=K(G,J),G.forEach(h),n=I(_),u=r(_,"TD",{class:!0});var pe=g(u);N=K(pe,T),pe.forEach(h),ee=I(_),S=r(_,"TD",{class:!0});var Z=g(S);q=r(Z,"INPUT",{type:!0,class:!0,"data-api_id":!0}),B=I(Z),b=r(Z,"INPUT",{type:!0,class:!0,"data-api_id":!0,"data-validation":!0}),Z.forEach(h),X=I(_),_.forEach(h),this.h()},h(){l(d,"class","border text-center"),l(m,"class","border"),l(L,"class","border"),l(R,"class",C="border text-center "+(o[15].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm"),l(u,"class","border text-center"),l(q,"type","button"),q.value="DEL",l(q,"class","text-red-500"),l(q,"data-api_id",P=o[15].id),l(b,"type","button"),b.value=E=o[15].is_inuse=="Y"?"INVLALID":"VALID",l(b,"class","text-blue-500"),l(b,"data-api_id",M=o[15].id),l(b,"data-validation",z=o[15].is_inuse),l(S,"class","border text-center float-left"),l(t,"class","hover:bg-blue-400 hover:text-white")},m(y,_){Pe(y,t,_),e(t,d),e(d,f),e(t,p),e(t,m),e(m,U),e(t,O),e(t,L),e(L,Y),e(t,x),e(t,R),e(R,k),e(t,n),e(t,u),e(u,N),e(t,ee),e(t,S),e(S,q),e(S,B),e(S,b),e(t,X),te||(W=[he(q,"click",o[6]),he(b,"click",o[7])],te=!0)},p(y,_){_&1&&c!==(c=y[15].api_name+"")&&oe(U,c),_&1&&j!==(j=y[15].api_content+"")&&oe(Y,j),_&1&&J!==(J=y[15].is_inuse+"")&&oe(k,J),_&1&&C!==(C="border text-center "+(y[15].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm")&&l(R,"class",C),_&1&&T!==(T=y[15].test_count+"")&&oe(N,T),_&1&&P!==(P=y[15].id)&&l(q,"data-api_id",P),_&1&&E!==(E=y[15].is_inuse=="Y"?"INVLALID":"VALID")&&(b.value=E),_&1&&M!==(M=y[15].id)&&l(b,"data-api_id",M),_&1&&z!==(z=y[15].is_inuse)&&l(b,"data-validation",z)},d(y){y&&h(t),te=!1,We(W)}}}function $e(o){let t,d,v,f,p,m,c,U,O,L,j,Y,x,R='<div>API CONTENT:</div> <div><input class="border w-full" id="api_content" name="api_content" placeholder="Enter the Api Content."/></div>',J,k,C,n,u,T,N,ee,S,q,P,B,b,E,M,z=o[0].length+"",X,te,W,y="API_NAME",_,Q,fe="API CONTENT",ne,G,pe="VALID",Z,le,Ve="TEST CNT",Te,ae,Oe="OPERATION",Ne,ye,Ce,De,ie,me,ge=(o[2]?o[2]:"")+"",we,Ae,ke,de=Ee(o[1]),D=[];for(let i=0;i<de.length;i+=1)D[i]=Be(Ye(o,de,i));let ue=Ee(o[0]),A=[];for(let i=0;i<ue.length;i+=1)A[i]=ze(Ue(o,ue,i));return{c(){t=s("div"),d=s("div"),v=s("div"),f=s("div"),p=s("div"),m=F(`SRV NAME:

					`),c=s("select");for(let i=0;i<D.length;i+=1)D[i].c();U=w(),O=s("input"),L=w(),j=s("hr"),Y=w(),x=s("div"),x.innerHTML=R,J=w(),k=s("div"),C=s("div"),n=F(`SRV NAME:
				`),u=s("input"),T=w(),N=s("input"),ee=w(),S=s("input"),q=w(),P=s("div"),B=s("div"),b=s("table"),E=s("tr"),M=s("th"),X=F(z),te=w(),W=s("th"),W.textContent=y,_=w(),Q=s("th"),Q.textContent=fe,ne=w(),G=s("th"),G.textContent=pe,Z=w(),le=s("th"),le.textContent=Ve,Te=w(),ae=s("th"),ae.textContent=Oe,Ne=w();for(let i=0;i<A.length;i+=1)A[i].c();ye=w(),Ce=s("hr"),De=w(),ie=s("div"),me=s("pre"),we=F(ge),this.h()},l(i){t=r(i,"DIV",{class:!0});var V=g(t);d=r(V,"DIV",{class:!0});var a=g(d);v=r(a,"DIV",{class:!0});var $=g(v);f=r($,"DIV",{});var ce=g(f);p=r(ce,"DIV",{});var be=g(p);m=K(be,`SRV NAME:

					`),c=r(be,"SELECT",{name:!0,id:!0,class:!0});var qe=g(c);for(let re=0;re<D.length;re+=1)D[re].l(qe);qe.forEach(h),U=I(be),O=r(be,"INPUT",{type:!0,class:!0}),be.forEach(h),L=I(ce),j=r(ce,"HR",{}),Y=I(ce),x=r(ce,"DIV",{"data-svelte-h":!0}),ve(x)!=="svelte-4llspp"&&(x.innerHTML=R),ce.forEach(h),$.forEach(h),J=I(a),k=r(a,"DIV",{class:!0});var Le=g(k);C=r(Le,"DIV",{});var se=g(C);n=K(se,`SRV NAME:
				`),u=r(se,"INPUT",{type:!0,class:!0}),T=I(se),N=r(se,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),ee=I(se),S=r(se,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),se.forEach(h),Le.forEach(h),a.forEach(h),q=I(V),P=r(V,"DIV",{class:!0});var _e=g(P);B=r(_e,"DIV",{class:!0});var xe=g(B);b=r(xe,"TABLE",{class:!0});var Ie=g(b);E=r(Ie,"TR",{class:!0});var H=g(E);M=r(H,"TH",{class:!0});var Re=g(M);X=K(Re,z),Re.forEach(h),te=I(H),W=r(H,"TH",{class:!0,"data-svelte-h":!0}),ve(W)!=="svelte-15x45td"&&(W.textContent=y),_=I(H),Q=r(H,"TH",{"data-svelte-h":!0}),ve(Q)!=="svelte-1qpoe61"&&(Q.textContent=fe),ne=I(H),G=r(H,"TH",{class:!0,"data-svelte-h":!0}),ve(G)!=="svelte-fbdknj"&&(G.textContent=pe),Z=I(H),le=r(H,"TH",{class:!0,"data-svelte-h":!0}),ve(le)!=="svelte-7b4xoz"&&(le.textContent=Ve),Te=I(H),ae=r(H,"TH",{class:!0,"data-svelte-h":!0}),ve(ae)!=="svelte-m97lm8"&&(ae.textContent=Oe),H.forEach(h),Ne=I(Ie);for(let re=0;re<A.length;re+=1)A[re].l(Ie);Ie.forEach(h),xe.forEach(h),ye=I(_e),Ce=r(_e,"HR",{}),De=I(_e),ie=r(_e,"DIV",{class:!0});var He=g(ie);me=r(He,"PRE",{});var je=g(me);we=K(je,ge),je.forEach(h),He.forEach(h),_e.forEach(h),V.forEach(h),this.h()},h(){l(c,"name","srv_list"),l(c,"id","srv_list"),l(c,"class","ml-5 mr-5"),l(O,"type","submit"),O.value="NEW API",l(O,"class","border pr-4 pl-4 bg-red-600 text-white float-right rounded-sm"),l(v,"class","border w-[79vw] h-57"),l(u,"type","submit"),u.value="NEW SRV",l(u,"class","border pr-4 pl-4 bg-orange-600 text-white float-right rounded-sm"),l(N,"class","border w-full"),l(N,"id","srv_name"),l(N,"name","srv_name"),l(N,"placeholder","Enter the Srv Name."),l(S,"class","border w-full"),l(S,"id","default_hdr"),l(S,"name","default_hdr"),l(S,"placeholder","Enter the default_hdr for the new Srv."),l(k,"class","border w-[29vw] h-57"),l(d,"class","border bg-white w-full h-60 flex flex-row justify-between pt-1 pl-1"),l(M,"class","w-[2vw] text-center bg-blue-600 text-white"),l(W,"class","w-[9vw]"),l(G,"class","w-[4vw] text-center"),l(le,"class","w-[5vw] text-center"),l(ae,"class","w-[6vw] text-center"),l(E,"class","bg-white text-left sticky top-0"),l(b,"class","w-full border border-separate text-sm"),l(B,"class","h-[44vh] overflow-y-scroll border"),l(ie,"class","h-[28vh] overflow-y-scroll text-sm p-1"),l(P,"class","border bg-white w-full h-[74vh]"),l(t,"class","border w-full h-screen p-1 bg-gray-200")},m(i,V){Pe(i,t,V),e(t,d),e(d,v),e(v,f),e(f,p),e(p,m),e(p,c);for(let a=0;a<D.length;a+=1)D[a]&&D[a].m(c,null);e(p,U),e(p,O),e(f,L),e(f,j),e(f,Y),e(f,x),e(d,J),e(d,k),e(k,C),e(C,n),e(C,u),e(C,T),e(C,N),e(C,ee),e(C,S),Se(S,o[3]),e(t,q),e(t,P),e(P,B),e(B,b),e(b,E),e(E,M),e(M,X),e(E,te),e(E,W),e(E,_),e(E,Q),e(E,ne),e(E,G),e(E,Z),e(E,le),e(E,Te),e(E,ae),e(b,Ne);for(let a=0;a<A.length;a+=1)A[a]&&A[a].m(b,null);e(P,ye),e(P,Ce),e(P,De),e(P,ie),e(ie,me),e(me,we),Ae||(ke=[he(c,"change",o[8]),he(O,"click",o[4]),he(u,"click",o[5]),he(S,"input",o[9])],Ae=!0)},p(i,[V]){if(V&2){de=Ee(i[1]);let a;for(a=0;a<de.length;a+=1){const $=Ye(i,de,a);D[a]?D[a].p($,V):(D[a]=Be($),D[a].c(),D[a].m(c,null))}for(;a<D.length;a+=1)D[a].d(1);D.length=de.length}if(V&8&&S.value!==i[3]&&Se(S,i[3]),V&1&&z!==(z=i[0].length+"")&&oe(X,z),V&193){ue=Ee(i[0]);let a;for(a=0;a<ue.length;a+=1){const $=Ue(i,ue,a);A[a]?A[a].p($,V):(A[a]=ze($),A[a].c(),A[a].m(b,null))}for(;a<A.length;a+=1)A[a].d(1);A.length=ue.length}V&4&&ge!==(ge=(i[2]?i[2]:"")+"")&&oe(we,ge)},i:Je,o:Je,d(i){i&&h(t),Me(D,i),Me(A,i),Ae=!1,We(ke)}}}function et(o,t,d){let v;Fe(o,Ze,n=>d(10,v=n));let f=[],p=[],m="",c="";const U=()=>{const n=document.getElementById("srv_list");let u=document.getElementById("api_content");console.log(n.value,u.value),R(Number(n.value),u.value.toUpperCase()),u.value=""},O=()=>{let n=document.getElementById("srv_name");console.log(n.value),J(n.value,c),n.value="",d(3,c="")},L=n=>{console.log(n.target.dataset),confirm("Are you sure you want to delete this API?")&&j(Number(n.target.dataset.api_id))},j=async n=>{localStorage.removeItem("output");const T=await(await fetch(`${v}/api/del`,{method:"POST",body:JSON.stringify({id:n})})).json();localStorage.setItem("output",JSON.stringify(T,null,4)),window.location.reload()},Y=n=>{x(Number(n.target.dataset.api_id),n.target.dataset.validation)},x=async(n,u)=>{localStorage.removeItem("output");const N=await(await fetch(`${v}/api/validation`,{method:"POST",body:JSON.stringify({id:n,validation:u=="Y"?"N":"Y"})})).json();console.log(N),localStorage.setItem("output",JSON.stringify(N,null,4)),window.location.reload()},R=async(n,u)=>{if(localStorage.removeItem("output"),u==""||u==null){alert("Please enter API content");return}const N=await(await fetch(`${v}/api/add`,{method:"POST",body:JSON.stringify({srv_id:n,api_content:u})})).json();localStorage.setItem("output",JSON.stringify(N,null,4)),window.location.reload()},J=async(n,u)=>{if(localStorage.removeItem("output"),n==""||n==null){alert("Please enter Srv Name");return}const N=await(await fetch(`${v}/api/srv/add`,{method:"POST",body:JSON.stringify({srv_name:n,default_hdr:u})})).json();localStorage.setItem("output",JSON.stringify(N,null,4)),window.location.reload()},k=n=>{localStorage.removeItem("selected_srv_id");let u=n.currentTarget.value;localStorage.setItem("selected_srv_id",u),d(0,f=p.filter(T=>T.id==u)[0].api_list),console.log(`selected_srv_data:
`,f)};Ke(async()=>{const u=await(await fetch(`${v}/api/srv/list`,{method:"GET"})).json();d(1,p=u);const T=Number(localStorage.getItem("selected_srv_id"));d(0,f=T?p[T-1].api_list:p[0].api_list),console.log(f),d(2,m=localStorage.getItem("output"))});function C(){c=this.value,d(3,c)}return[f,p,m,c,U,O,L,Y,k,C]}class rt extends Qe{constructor(t){super(),Xe(this,t,et,$e,Ge,{})}}export{rt as component};
